@{
	ViewData["Title"] = "Gebouw bewerken";
	Layout = "LayoutLeftMenu";
}

@if (ViewBag.buildingExists != null && ViewBag.buildingExists)
{
	<div class="col-12 text-center">
		<h1>404: page not found</h1>
	</div>
}
else
{
	@* Content *@
	<div class="row">
		<div class="col-12 text-center">
			<h1 class="txt-clr-acc-500 text-uppercase align-middle fw-semibold text-center text-md-start">Gebouw bewerken</h1>
		</div>
	</div>

	<div class="row">
		<div class="col-md-12">
			<div class="mx-auto bg-clr-main-500 w-100 p-4 rounded-3" style="max-width: 500px;">
				@using (Html.BeginForm("Update", "Building", FormMethod.Post, new { enctype = "multipart/form-data" }))
				{
					var data = ViewBag.singleBuilding[0];

                @if (!string.IsNullOrEmpty(ViewBag.error))
                {
                    <label class="w-100 rounded-3 alert alert-danger alert-dismissible fade show">
                        @ViewBag.error
                        <button type="button" class="btn-close top-0 bottom-0 my-auto" data-bs-dismiss="alert" aria-label="Close"></button>
                    </label>
                }
                else if (!string.IsNullOrEmpty(TempData["success"]?.ToString()))
                {
                    <label class="w-100 rounded-3 alert alert-success alert-dismissible fade show">
                        @TempData["success"]
                        <button type="button" class="btn-close top-0 bottom-0 my-auto" data-bs-dismiss="alert" aria-label="Close"></button>
                    </label>
                }
                
                <div class="mb-3">
                    <label for="name" class="form-label text-white fw-bold">Naam</label>
                    <input type="text" placeholder="Naam" class="form-control" name="name" id="name" value='@(data["name"] ?? "")'>
                </div>

					<div class="mb-3">
						<label for="type" class="form-label text-white fw-bold">Type</label>
						<input type="text" placeholder="Type" class="form-control" name="type" id="type" value='@(data["type"] ?? "")'>
					</div>

					<div class="mb-3">
						<label for="company" class="form-label text-white fw-bold">Bedrijf</label>
						<input type="text" placeholder="Bedrijf" class="form-control" name="company" id="company" value='@(data["company"] ?? "")'>
					</div>

					<div class="mb-3">
						<label for="retention" class="form-label text-white fw-bold">Retentieperiode (Dagen)</label>
						<input type="number" placeholder="Retentieperiode (dagen)" class="form-control" name="retention" id="retention" value='@(data["retention_period"] ?? "")'>
					</div>

					<div class="mb-3">
						<label for="image" class="form-label d-flex text-white fw-bold">Bedrijfsfoto&nbsp;-&nbsp;<span class="fst-italic fw-light">Optioneel</span></label>
						<input type="file" class="form-control" name="image" id="image">
					</div>

					<div class="mb-3">
						<label for="mapimage" class="form-label d-flex text-white fw-bold">Plattegrond&nbsp;-&nbsp;<span class="fst-italic fw-light">Optioneel</span></label>
						<input type="file" class="form-control" name="mapimage" id="mapimage">
					</div>

					<div class="pt-2">
						<button name="id" id="id" value='@(data["id"] ?? "")' type="submit" class="btn w-100 btn-main fw-bold submit-button-backgroundcolor d-flex justify-content-between align-items-center">
							<span class="mx-auto">Wijziging opslaan</span>
							<span class="material-icons card-title">edit</span>
						</button>
					</div>
				}
			</div>
		</div>
	</div>
}
